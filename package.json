
âœ… ZERO-FRICTION INVENTORY APP â€” MASTER CANONICAL PROMPT
Purpose: This prompt defines the complete behavior, constraints, architecture, and UX rules for the Zero-Friction Inventory application.
Any AI, agent, or system operating under this prompt must follow it exactly.
This prompt supersedes all prior instructions unless explicitly amended.

ğŸ”¹ CORE PHILOSOPHY
This application exists to eliminate friction during inventory counts.

Speed > cleverness

Accuracy > interpretation

User correction > AI confidence

Silent automation > confirmations

If a feature adds friction, it is wrong.

ğŸ”¹ WHAT THE APP DOES (HIGH LEVEL)
The app supports two parallel input paths:

Image â†’ Inventory Extraction

Voice â†’ Inventory Commands

Both paths ultimately update the same inventory state.

ğŸ”¸ PART 1: IMAGE â†’ INVENTORY PIPELINE
Image Handling
User uploads 1â€“30 images (prep sheets, count sheets, handwritten forms)

Images are compressed server-side

OCR is performed before any LLM interpretation

OCR Rules
Do not invent items

Do not standardize names

Do not infer missing data

Extract only what exists

Preserve raw text

LLM Rules (Post-OCR)
LLM receives OCR text only

LLM must return JSON ONLY

No markdown

No commentary

No explanations

Required Output Format:

{
  "extracted": [
    { "raw_text": "exact text", "quantity": 0 }
  ],
  "unmapped": [
    { "raw_text": "exact text", "reason": "unclear or partial" }
  ]
}
Anything ambiguous goes into unmapped

The UI must allow manual correction of all results

ğŸ”¸ PART 2: VOICE â†’ INVENTORY PIPELINE
Voice Philosophy
Voice input is command capture, not interpretation.

The system must never â€œguessâ€

The system must never auto-correct silently

If voice fails, the user must still be able to proceed

Speech-to-Text
Use server-side STT

Do NOT rely on device-native speech

Return raw transcription only

No formatting

No cleanup

No inference

Example output:

{
  "transcription": "salmon add twenty"
}
ğŸ”¸ PART 3: COMMAND INTERPRETATION RULES
Verbs
Recognized verbs:

add

subtract

set

Quantity Rule
Anything that comes after the verb is the quantity.

Examples:

â€œadd twentyâ€ â†’ 20

â€œsubtract 3â€ â†’ 3

â€œset fiveâ€ â†’ 5

Item Resolution
Match against master inventory list

Support aliases

If no match â†’ mark as unresolved

Never block the flow because of unresolved items

ğŸ”¸ PART 4: UI / UX ABSOLUTE RULES
Inventory List Screen
User can tap any row

Tapping the quantity opens an inline editor

Quantity can always be manually adjusted

This works even if:

Voice failed

OCR failed

Mapping failed

Last Command Area
Must NOT interfere with scrolling

Must NOT create screen jumps

Must NOT block interaction

Items shown here must be:

Single-line

No background shading

Clean text only

Recording UX
Record button is always visible

When recording:

Large microphone icon appears

Icon pulses

Visual feedback is obvious

ğŸ”¸ PART 5: FILE & DEPLOYMENT RULES (CRITICAL)
ğŸš¨ CRITICAL FILE RULE
The application must NEVER allow any variant of index.html.

If a file name begins with index.html and contains ANY additional characters
â†’ it MUST be renamed to exactly index.html

No exceptions

This rule overrides:

Collision handling

Versioning

Backups

Required Files
server.js

index.html

package.json

README.md (optional)

ğŸ”¸ PART 6: FAILURE-TOLERANT DESIGN
The system must always work even when parts fail.

If:

Voice fails â†’ manual entry still works

OCR fails â†’ unmapped list still usable

LLM fails â†’ raw OCR still displayed

Mapping fails â†’ user edits directly

There is no dead end.

ğŸ”¸ PART 7: AI BEHAVIOR CONSTRAINTS
The AI must:

Follow instructions literally

Never summarize unless explicitly asked

Never introduce new rules

Never â€œimproveâ€ logic

Never reorder steps

Never change UX behavior unless told

If something is unclear:

Ask once

Otherwise, default to user control

ğŸ”¸ PART 8: ANALYSIS & EXECUTION RULE
When asked to â€œanalyzeâ€ or â€œexecuteâ€:

ALL analysis

ALL findings

ALL required changes

ALL implementation details

Must be included directly in the execution output
Nothing may be omitted or summarized.


